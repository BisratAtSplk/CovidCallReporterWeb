<h1 mat-dialog-title>Update Report</h1>
<div mat-dialog-content>
    <div class="row">
        <div class="col-sm-6">
            <div>
                <label>Person Information</label>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-label-group">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Full Name" [(ngModel)]="new_call_report.full_name"
                                       name="full_name">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-label-group">
                            <mat-form-field class="example-full-width" disabled>
                                <input matInput placeholder="Phone" [(ngModel)]="new_call_report.phone" name="phone">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Gender" [(ngModel)]="new_call_report.gender" name="gender">
                                    <mat-option *ngFor="let gender of genders" [value]="gender">
                                        {{gender}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <div class="form-label-group">
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Age" [(ngModel)]="new_call_report.age" name="age">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
            <div>
                <label>Location</label>
                <div class="row">
                    <div class="col-sm-7">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Region" [(ngModel)]="new_call_report.region_id"
                                            name="region_id" (selectionChange)="onRegionChanges($event)">
                                    <mat-option [value]="null">None</mat-option>
                                    <mat-option *ngFor="let region of regions" [value]="region.id">
                                        {{region.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Zone" [(ngModel)]="new_call_report.zone_id" name="zone_id">
                                    <mat-option *ngFor="let zone of zones" [value]="zone.id">
                                        {{zone.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Wereda" [(ngModel)]="new_call_report.wereda_id"
                                            name="wereda_id">
                                    <mat-option *ngFor="let role of roles_list" [value]="role.id">
                                        {{role.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="City" [(ngModel)]="new_call_report.city_id" name="city_id">
                                    <mat-option *ngFor="let role of roles_list" [value]="role.id">
                                        {{role.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="SubCity" [(ngModel)]="new_call_report.sub_city_id"
                                            name="sub_city_id">
                                    <mat-option *ngFor="let role of roles_list" [value]="role.id">
                                        {{role.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Report Type" [(ngModel)]="new_call_report.report_type"
                                            name="other">
                                    <mat-option *ngFor="let information of providedInfromation"
                                                [value]="information">{{information}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Rummer On Covid 19"
                                            [(ngModel)]="new_call_report.call_rumor_types"
                                            name="other" multiple>
                                    <mat-option *ngFor="let call_rumor_type of new_call_report.call_rumor_types"
                                                [value]="call_rumor_type">{{call_rumor_type.call_rumor_type.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                  <div class="col-sm-12">
                    <div class="form-label-group">
                      <mat-form-field class="example-full-width">
                        <textarea matInput type="text" placeholder="Description" rows="3" [(ngModel)]="new_call_report.description" name="description"></textarea>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
          <div class="card">
            <div class="card-body">
              <div style="margin: 20px">
                <label>Assign This Report To</label>
                <mat-radio-group
                        aria-labelledby="example-radio-group-label"
                        class="example-radio-group"
                        [(ngModel)]="new_call_report.report_group_id">
                  <mat-radio-button class="example-radio-button" *ngFor="let reportGroup of reportGroups" [value]="reportGroup.id">
                    {{reportGroup.name}}
                  </mat-radio-button>
                </mat-radio-group>
                <div class="form-label-group">
                  <mat-form-field class="example-full-width">
                    <textarea matInput type="text" placeholder="Remark" rows="5" [(ngModel)]="new_call_report.remark_1" name="remark_1"></textarea>
                  </mat-form-field>
                </div>
                <div class="form-label-group">
                  <button mat-raised-button (click)="updateReport()" class="btn btn-primary pull-right">Update Report</button>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <br>
    <div class="form-label-group">
      <button mat-raised-button (click)="cancel()" class="btn btn-default pull-left">Cancel</button>
    </div>
</div>
<div class="my-container">
    <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '0px' }"></ngx-loading>
</div>
